(function(){"use strict";var e={2453:function(e,t,s){var o=s(5130),r=s(6768);const n={id:"app"};function a(e,t,s,o,a,i){const l=(0,r.g2)("router-link"),u=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.Lk)("header",null,[(0,r.Lk)("nav",null,[(0,r.bF)(l,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Home")])),_:1}),(0,r.eW)(" | "),a.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(l,{key:0,to:"/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Login")])),_:1})),(0,r.eW)(" | "),a.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(l,{key:1,to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)("Register")])),_:1})),(0,r.eW)(" | "),a.isAuthenticated?((0,r.uX)(),(0,r.Wv)(l,{key:2,to:"/profile"},{default:(0,r.k6)((()=>[(0,r.eW)("Profile")])),_:1})):(0,r.Q3)("",!0),(0,r.eW)(" | "),a.isAuthenticated?((0,r.uX)(),(0,r.Wv)(l,{key:3,to:"/dashboard"},{default:(0,r.k6)((()=>[(0,r.eW)("Dashboard")])),_:1})):(0,r.Q3)("",!0),(0,r.eW)(" | "),a.isAuthenticated?((0,r.uX)(),(0,r.Wv)(l,{key:4,to:"/consultations"},{default:(0,r.k6)((()=>[(0,r.eW)("Consultations")])),_:1})):(0,r.Q3)("",!0),(0,r.eW)(" | "),a.isAuthenticated?((0,r.uX)(),(0,r.CE)("button",{key:5,onClick:t[0]||(t[0]=(...e)=>i.logout&&i.logout(...e))},"Logout")):(0,r.Q3)("",!0)])]),(0,r.Lk)("main",null,[(0,r.bF)(u)])])}s(4114);var i={name:"App",data(){return{isAuthenticated:!!localStorage.getItem("accessToken")}},methods:{logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),this.isAuthenticated=!1,this.$router.push("/login")},checkAuthStatus(){this.isAuthenticated=!!localStorage.getItem("accessToken")}},created(){this.checkAuthStatus(),this.$router.beforeEach(((e,t,s)=>{this.checkAuthStatus(),s()}))}},l=s(1241);const u=(0,l.A)(i,[["render",a]]);var c=u,d=s(5926);const p=(0,o.Ef)(c);p.use(d.A),p.mount("#app")},5926:function(e,t,s){s.d(t,{A:function(){return tr}});var o=s(1387),r=s(6768);const n={class:"home-page"};function a(e,t,s,o,a,i){const l=(0,r.g2)("WelcomeComponent");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(l)])}var i=s(4232);const l=e=>((0,r.Qi)("data-v-27dde806"),e=e(),(0,r.jt)(),e),u={class:"welcome"},c=l((()=>(0,r.Lk)("h1",null,"Welcome to the Consultation App",-1))),d=l((()=>(0,r.Lk)("p",null," Ð¦Ðµ Ð´Ð¾Ð´Ð°Ñ‚Ð¾Ðº Ð´Ð»Ñ Ð¾Ð½Ð»Ð°Ð¹Ð½ Ð·Ð°Ð¿Ð¸ÑÑƒ Ð½Ð° ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ. Ð’Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ ÑƒÐ²Ñ–Ð¹Ñ‚Ð¸ Ð´Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸, Ñ‰Ð¾Ð± Ð¿ÐµÑ€ÐµÐ³Ð»ÑÐ½ÑƒÑ‚Ð¸ ÑÐ²Ð¾Ñ— ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—, Ð½Ð°Ð´Ñ–ÑÐ»Ð°Ñ‚Ð¸ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð°Ð±Ð¾ Ð¾Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ ÑÐ²Ñ–Ð¹ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŒ. ",-1))),p={key:0},m={key:1};function f(e,t,s,o,n,a){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",u,[c,d,n.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",p,[(0,r.eW)(" Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, "),(0,r.bF)(l,{to:"/login"},{default:(0,r.k6)((()=>[(0,r.eW)("ÑƒÐ²Ñ–Ð¹Ð´Ñ–Ñ‚ÑŒ")])),_:1}),(0,r.eW)(" Ð°Ð±Ð¾ "),(0,r.bF)(l,{to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)("Ð·Ð°Ñ€ÐµÑ”ÑÑ‚Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ")])),_:1}),(0,r.eW)(", Ñ‰Ð¾Ð± Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð´Ð¾ Ð¿Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»Ñƒ. ÐÐ°Ð´Ð°Ð»Ñ– Ð±ÑƒÐ´Ðµ Ð²Ð¿Ñ€Ð¾Ð²Ð°Ð´Ð¶ÐµÐ½Ð¾ ÑÐ¸ÑÐµÐ¼Ñƒ Ð¾Ð½Ð»Ð°Ð¹Ð½ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ñ– Google Meet Ð°Ð±Ð¾ ZoomðŸ˜‰. ")])),n.isAuthenticated?((0,r.uX)(),(0,r.CE)("p",m,[(0,r.eW)(" Ð’Ð¸ ÑƒÐ²Ñ–Ð¹ÑˆÐ»Ð¸ Ð´Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸ ÑÐº "+(0,i.v_)(n.userEmail)+". ÐŸÐµÑ€ÐµÐ¹Ð´Ñ–Ñ‚ÑŒ Ð´Ð¾ ",1),(0,r.bF)(l,{to:"/dashboard"},{default:(0,r.k6)((()=>[(0,r.eW)("ÐŸÐ°Ð½ÐµÐ»Ñ– ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ")])),_:1}),(0,r.eW)(", Ñ‰Ð¾Ð± Ð¿ÐµÑ€ÐµÐ³Ð»ÑÐ½ÑƒÑ‚Ð¸ ÑÐ²Ð¾Ñ— ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ— Ð°Ð±Ð¾ Ð¾Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŒ. ")])):(0,r.Q3)("",!0)])}var h={name:"WelcomeComponent",data(){return{isAuthenticated:!!localStorage.getItem("accessToken"),userEmail:localStorage.getItem("userEmail")}}},g=s(1241);const k=(0,g.A)(h,[["render",f],["__scopeId","data-v-27dde806"]]);var v=k,_={name:"HomePage",components:{WelcomeComponent:v}};const L=(0,g.A)(_,[["render",a],["__scopeId","data-v-c05cd244"]]);var C=L;const b=e=>((0,r.Qi)("data-v-8596208c"),e=e(),(0,r.jt)(),e),E={class:"login-page"},y=b((()=>(0,r.Lk)("h1",null,"Ð’Ñ…Ñ–Ð´ Ð´Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸",-1))),U={class:"auth-container"},S={class:"auth-section"},w=b((()=>(0,r.Lk)("h2",null,"Ð£Ð²Ñ–Ð¹Ñ‚Ð¸",-1))),A={class:"auth-section"},I=b((()=>(0,r.Lk)("h2",null,"Ð ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ",-1)));function P(e,t,s,o,n,a){const i=(0,r.g2)("LoginComponent"),l=(0,r.g2)("RegisterComponent");return(0,r.uX)(),(0,r.CE)("div",E,[y,(0,r.Lk)("div",U,[(0,r.Lk)("div",S,[w,(0,r.bF)(i)]),(0,r.Lk)("div",A,[I,(0,r.bF)(l)])])])}var X=s(5130);const D=e=>((0,r.Qi)("data-v-21816074"),e=e(),(0,r.jt)(),e),M={class:"login"},$=D((()=>(0,r.Lk)("h2",null,"Ð’Ñ…Ñ–Ð´",-1))),W={class:"form-group"},Q=D((()=>(0,r.Lk)("label",{for:"email"},"Email",-1))),F={class:"form-group"},j=D((()=>(0,r.Lk)("label",{for:"password"},"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",-1))),T=D((()=>(0,r.Lk)("button",{type:"submit"},"Ð£Ð²Ñ–Ð¹Ñ‚Ð¸",-1))),q={key:0,class:"error"};function V(e,t,s,o,n,a){return(0,r.uX)(),(0,r.CE)("div",M,[$,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,X.D$)(((...e)=>a.login&&a.login(...e)),["prevent"]))},[(0,r.Lk)("div",W,[Q,(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.email=e),id:"email",required:""},null,512),[[X.Jo,n.form.email]])]),(0,r.Lk)("div",F,[j,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.password=e),id:"password",required:""},null,512),[[X.Jo,n.form.password]])]),T],32),n.errorMessage?((0,r.uX)(),(0,r.CE)("p",q,(0,i.v_)(n.errorMessage),1)):(0,r.Q3)("",!0)])}s(4114);var J=s(9423),O={name:"LoginComponent",data(){return{form:{email:"",password:""},errorMessage:""}},methods:{login(){J.A.post("login/",this.form).then((e=>(localStorage.setItem("accessToken",e.data.access),localStorage.setItem("refreshToken",e.data.refresh),localStorage.setItem("userEmail",this.form.email),J.A.get("users/",{headers:{Authorization:`Bearer ${e.data.access}`}})))).then((e=>{const t=e.data.find((e=>e.email===this.form.email));t?(console.log("Current user found:",t),localStorage.setItem("isDoctor",t.is_doctor.toString()),localStorage.setItem("isSuperuser",t.is_superuser.toString()),localStorage.setItem("isStaff",t.is_staff.toString()),localStorage.setItem("isUser",t.is_user.toString()),t.is_doctor&&(localStorage.setItem("doctorId",t.id),localStorage.setItem("doctorName",`${t.first_name} ${t.last_name}`)),this.$router.push("/dashboard")):(this.errorMessage="ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð° Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾.",console.error("User not found"))})).catch((e=>{console.error("Error logging in or fetching users:",e),this.errorMessage="ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ email Ð°Ð±Ð¾ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ. Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‰Ðµ Ñ€Ð°Ð·."}))}}};const N=(0,g.A)(O,[["render",V],["__scopeId","data-v-21816074"]]);var x=N;const R=e=>((0,r.Qi)("data-v-77dd080a"),e=e(),(0,r.jt)(),e),B={class:"register"},K=R((()=>(0,r.Lk)("h2",null,"Ð ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ",-1))),z={class:"form-group"},H=R((()=>(0,r.Lk)("label",{for:"username"},"Ð†Ð¼'Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°",-1))),G={class:"form-group"},Z=R((()=>(0,r.Lk)("label",{for:"email"},"Email",-1))),Y={class:"form-group"},ee=R((()=>(0,r.Lk)("label",{for:"password"},"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",-1))),te={class:"form-group"},se=R((()=>(0,r.Lk)("label",{for:"confirmPassword"},"ÐŸÑ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¶ÐµÐ½Ð½Ñ Ð¿Ð°Ñ€Ð¾Ð»Ñ",-1))),oe=R((()=>(0,r.Lk)("button",{type:"submit"},"Ð—Ð°Ñ€ÐµÑ”ÑÑ‚Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ÑÑŒ",-1))),re={key:0,class:"error"},ne={key:1,class:"success"};function ae(e,t,s,o,n,a){return(0,r.uX)(),(0,r.CE)("div",B,[K,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,X.D$)(((...e)=>a.register&&a.register(...e)),["prevent"]))},[(0,r.Lk)("div",z,[H,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.username=e),id:"username",required:""},null,512),[[X.Jo,n.form.username]])]),(0,r.Lk)("div",G,[Z,(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.email=e),id:"email",required:""},null,512),[[X.Jo,n.form.email]])]),(0,r.Lk)("div",Y,[ee,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.password=e),id:"password",required:""},null,512),[[X.Jo,n.form.password]])]),(0,r.Lk)("div",te,[se,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>n.form.confirmPassword=e),id:"confirmPassword",required:""},null,512),[[X.Jo,n.form.confirmPassword]])]),oe],32),n.errorMessage?((0,r.uX)(),(0,r.CE)("p",re,(0,i.v_)(n.errorMessage),1)):(0,r.Q3)("",!0),n.successMessage?((0,r.uX)(),(0,r.CE)("p",ne,(0,i.v_)(n.successMessage),1)):(0,r.Q3)("",!0)])}var ie={name:"RegisterComponent",data(){return{form:{username:"",email:"",password:"",confirmPassword:""},errorMessage:"",successMessage:""}},methods:{register(){this.form.password===this.form.confirmPassword?J.A.post("register/",{username:this.form.username,email:this.form.email,password:this.form.password}).then((()=>{this.successMessage="Ð ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¾Ð¹ÑˆÐ»Ð° ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾. Ð¢ÐµÐ¿ÐµÑ€ Ð²Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ ÑƒÐ²Ñ–Ð¹Ñ‚Ð¸ Ð´Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸.",this.errorMessage="",this.clearForm()})).catch((e=>{console.error("Error during registration:",e),this.errorMessage="ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ñ€ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ—. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ Ð²Ð²ÐµÐ´ÐµÐ½Ñ– Ð´Ð°Ð½Ñ–.",this.successMessage=""})):this.errorMessage="ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ñ‚Ð° Ð¿Ñ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¶ÐµÐ½Ð½Ñ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð½Ðµ Ð·Ð±Ñ–Ð³Ð°ÑŽÑ‚ÑŒÑÑ."},clearForm(){this.form.username="",this.form.email="",this.form.password="",this.form.confirmPassword=""}}};const le=(0,g.A)(ie,[["render",ae],["__scopeId","data-v-77dd080a"]]);var ue=le,ce={name:"LoginPage",components:{LoginComponent:x,RegisterComponent:ue}};const de=(0,g.A)(ce,[["render",P],["__scopeId","data-v-8596208c"]]);var pe=de;const me=e=>((0,r.Qi)("data-v-c9ae6950"),e=e(),(0,r.jt)(),e),fe={class:"profile-page"},he=me((()=>(0,r.Lk)("h1",null,"ÐŸÑ€Ð¾Ñ„Ñ–Ð»ÑŒ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°",-1))),ge={class:"profile-grid"},ke={class:"profile-section"},ve={class:"profile-section"};function _e(e,t,s,o,n,a){const i=(0,r.g2)("UserProfileComponent"),l=(0,r.g2)("ChangePasswordComponent");return(0,r.uX)(),(0,r.CE)("div",fe,[he,(0,r.Lk)("div",ge,[(0,r.Lk)("div",ke,[(0,r.bF)(i)]),(0,r.Lk)("div",ve,[(0,r.bF)(l)])])])}const Le=e=>((0,r.Qi)("data-v-2f063f33"),e=e(),(0,r.jt)(),e),Ce={class:"user-profile"},be=Le((()=>(0,r.Lk)("h2",null,"ÐŸÑ€Ð¾Ñ„Ñ–Ð»ÑŒ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°",-1))),Ee={key:0},ye={class:"profile-info"},Ue={key:0},Se=["src"],we=Le((()=>(0,r.Lk)("strong",null,"Ð†Ð¼'Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°:",-1))),Ae=Le((()=>(0,r.Lk)("strong",null,"Ð†Ð¼'Ñ:",-1))),Ie=Le((()=>(0,r.Lk)("strong",null,"ÐŸÑ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ:",-1))),Pe=Le((()=>(0,r.Lk)("strong",null,"Email:",-1))),Xe=Le((()=>(0,r.Lk)("strong",null,"Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½:",-1))),De=Le((()=>(0,r.Lk)("strong",null,"ÐÐ´Ñ€ÐµÑÐ°:",-1))),Me=Le((()=>(0,r.Lk)("strong",null,"Ð‘Ñ–Ð¾Ð³Ñ€Ð°Ñ„Ñ–Ñ:",-1))),$e={class:"buttons"},We={key:1},Qe={class:"form-group"},Fe=Le((()=>(0,r.Lk)("label",{for:"username"},"Ð†Ð¼'Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°",-1))),je={class:"form-group"},Te=Le((()=>(0,r.Lk)("label",{for:"first_name"},"Ð†Ð¼'Ñ",-1))),qe={class:"form-group"},Ve=Le((()=>(0,r.Lk)("label",{for:"last_name"},"ÐŸÑ€Ñ–Ð·Ð²Ð¸Ñ‰Ðµ",-1))),Je={class:"form-group"},Oe=Le((()=>(0,r.Lk)("label",{for:"email"},"Email",-1))),Ne={class:"form-group"},xe=Le((()=>(0,r.Lk)("label",{for:"phone"},"Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",-1))),Re={class:"form-group"},Be=Le((()=>(0,r.Lk)("label",{for:"address"},"ÐÐ´Ñ€ÐµÑÐ°",-1))),Ke={class:"form-group"},ze=Le((()=>(0,r.Lk)("label",{for:"bio"},"Ð‘Ñ–Ð¾Ð³Ñ€Ð°Ñ„Ñ–Ñ",-1))),He={class:"buttons"},Ge=Le((()=>(0,r.Lk)("button",{type:"submit"},"Ð—Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸ Ð·Ð¼Ñ–Ð½Ð¸",-1))),Ze={key:2},Ye={class:"form-group"},et=Le((()=>(0,r.Lk)("label",{for:"photo"},"Ð¤Ð¾Ñ‚Ð¾ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽ",-1))),tt={class:"buttons"},st=Le((()=>(0,r.Lk)("button",{type:"submit"},"Ð—Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸ Ñ„Ð¾Ñ‚Ð¾",-1)));function ot(e,t,s,o,n,a){return(0,r.uX)(),(0,r.CE)("div",Ce,[be,n.isEditingData||n.isEditingPhoto?n.isEditingData?((0,r.uX)(),(0,r.CE)("div",We,[(0,r.Lk)("form",{onSubmit:t[10]||(t[10]=(0,X.D$)(((...e)=>a.updateProfileData&&a.updateProfileData(...e)),["prevent"]))},[(0,r.Lk)("div",Qe,[Fe,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.profile.username=e),id:"username",required:""},null,512),[[X.Jo,n.profile.username]])]),(0,r.Lk)("div",je,[Te,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.profile.first_name=e),id:"first_name"},null,512),[[X.Jo,n.profile.first_name]])]),(0,r.Lk)("div",qe,[Ve,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.profile.last_name=e),id:"last_name"},null,512),[[X.Jo,n.profile.last_name]])]),(0,r.Lk)("div",Je,[Oe,(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[5]||(t[5]=e=>n.profile.email=e),id:"email",required:""},null,512),[[X.Jo,n.profile.email]])]),(0,r.Lk)("div",Ne,[xe,(0,r.bo)((0,r.Lk)("input",{type:"tel","onUpdate:modelValue":t[6]||(t[6]=e=>n.profile.phone=e),id:"phone"},null,512),[[X.Jo,n.profile.phone]])]),(0,r.Lk)("div",Re,[Be,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>n.profile.address=e),id:"address"},null,512),[[X.Jo,n.profile.address]])]),(0,r.Lk)("div",Ke,[ze,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.profile.bio=e),id:"bio",rows:"4"},null,512),[[X.Jo,n.profile.bio]])]),(0,r.Lk)("div",He,[Ge,(0,r.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>a.cancelEditData&&a.cancelEditData(...e))},"Ð¡ÐºÐ°ÑÑƒÐ²Ð°Ñ‚Ð¸")])],32)])):n.isEditingPhoto?((0,r.uX)(),(0,r.CE)("div",Ze,[(0,r.Lk)("form",{onSubmit:t[13]||(t[13]=(0,X.D$)(((...e)=>a.updateProfilePhoto&&a.updateProfilePhoto(...e)),["prevent"]))},[(0,r.Lk)("div",Ye,[et,(0,r.Lk)("input",{type:"file",onChange:t[11]||(t[11]=(...e)=>a.onFileChange&&a.onFileChange(...e)),id:"photo",required:""},null,32)]),(0,r.Lk)("div",tt,[st,(0,r.Lk)("button",{type:"button",onClick:t[12]||(t[12]=(...e)=>a.cancelEditPhoto&&a.cancelEditPhoto(...e))},"Ð¡ÐºÐ°ÑÑƒÐ²Ð°Ñ‚Ð¸")])],32)])):(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ee,[(0,r.Lk)("div",ye,[n.profile.photo?((0,r.uX)(),(0,r.CE)("div",Ue,[(0,r.Lk)("img",{src:n.profile.photo,alt:"Ð¤Ð¾Ñ‚Ð¾ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽ",class:"profile-photo"},null,8,Se)])):(0,r.Q3)("",!0),(0,r.Lk)("p",null,[we,(0,r.eW)(" "+(0,i.v_)(n.profile.username),1)]),(0,r.Lk)("p",null,[Ae,(0,r.eW)(" "+(0,i.v_)(n.profile.first_name||"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"),1)]),(0,r.Lk)("p",null,[Ie,(0,r.eW)(" "+(0,i.v_)(n.profile.last_name||"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"),1)]),(0,r.Lk)("p",null,[Pe,(0,r.eW)(" "+(0,i.v_)(n.profile.email),1)]),(0,r.Lk)("p",null,[Xe,(0,r.eW)(" "+(0,i.v_)(n.profile.phone||"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"),1)]),(0,r.Lk)("p",null,[De,(0,r.eW)(" "+(0,i.v_)(n.profile.address||"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"),1)]),(0,r.Lk)("p",null,[Me,(0,r.eW)(" "+(0,i.v_)(n.profile.bio||"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"),1)])]),(0,r.Lk)("div",$e,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>n.isEditingData=!0)},"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ Ð´Ð°Ð½Ñ–"),(0,r.Lk)("button",{onClick:t[1]||(t[1]=e=>n.isEditingPhoto=!0)},"Ð—Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ Ñ„Ð¾Ñ‚Ð¾")])]))])}var rt={name:"UserProfileComponent",data(){return{profile:{username:"",first_name:"",last_name:"",email:"",phone:"",address:"",bio:"",photo:null,is_doctor:!1,is_user:!1,is_superuser:!1,is_staff:!1},isEditingData:!1,isEditingPhoto:!1}},methods:{fetchUserProfile(){J.A.get("profile/").then((e=>{this.profile=e.data})).catch((e=>{console.error("Error fetching profile:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))},updateProfileData(){const e={username:this.profile.username,first_name:this.profile.first_name,last_name:this.profile.last_name,email:this.profile.email,phone:this.profile.phone,address:this.profile.address,bio:this.profile.bio,is_doctor:this.profile.is_doctor,is_user:this.profile.is_user,is_superuser:this.profile.is_superuser,is_staff:this.profile.is_staff};J.A.put("profile/",e).then((()=>{alert("Ð”Ð°Ð½Ñ– Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾"),this.isEditingData=!1,this.fetchUserProfile()})).catch((e=>{console.error("Error updating profile data:",e)}))},updateProfilePhoto(){if(!this.profile.photo)return void alert("Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð¾Ð±ÐµÑ€Ñ–Ñ‚ÑŒ Ñ„Ð¾Ñ‚Ð¾ Ð´Ð»Ñ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ.");const e=new FormData;e.append("username",this.profile.username),e.append("first_name",this.profile.first_name||""),e.append("last_name",this.profile.last_name||""),e.append("email",this.profile.email),e.append("phone",this.profile.phone||""),e.append("address",this.profile.address||""),e.append("bio",this.profile.bio||""),e.append("photo",this.profile.photo,this.profile.photo.name),e.append("is_doctor",this.profile.is_doctor),e.append("is_user",this.profile.is_user),e.append("is_superuser",this.profile.is_superuser),e.append("is_staff",this.profile.is_staff),J.A.put("profile/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{alert("Ð¤Ð¾Ñ‚Ð¾ Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾"),this.isEditingPhoto=!1,this.fetchUserProfile()})).catch((e=>{console.error("Error updating profile photo:",e),alert("Ð¡Ñ‚Ð°Ð»Ð°ÑÑ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ– Ñ„Ð¾Ñ‚Ð¾.")}))},onFileChange(e){this.profile.photo=e.target.files[0]},cancelEditData(){this.isEditingData=!1,this.fetchUserProfile()},cancelEditPhoto(){this.isEditingPhoto=!1,this.profile.photo=null}},created(){this.fetchUserProfile()}};const nt=(0,g.A)(rt,[["render",ot],["__scopeId","data-v-2f063f33"]]);var at=nt;const it=e=>((0,r.Qi)("data-v-3116beb8"),e=e(),(0,r.jt)(),e),lt={class:"change-password"},ut=it((()=>(0,r.Lk)("h2",null,"Ð—Ð¼Ñ–Ð½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ",-1))),ct={class:"form-group"},dt=it((()=>(0,r.Lk)("label",{for:"oldPassword"},"Ð¡Ñ‚Ð°Ñ€Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",-1))),pt={class:"form-group"},mt=it((()=>(0,r.Lk)("label",{for:"newPassword"},"ÐÐ¾Ð²Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",-1))),ft={class:"form-group"},ht=it((()=>(0,r.Lk)("label",{for:"confirmPassword"},"ÐŸÑ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¶ÐµÐ½Ð½Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ð¾Ð»Ñ",-1))),gt=it((()=>(0,r.Lk)("button",{type:"submit"},"Ð—Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",-1))),kt={key:0,class:"error"},vt={key:1,class:"success"};function _t(e,t,s,o,n,a){return(0,r.uX)(),(0,r.CE)("div",lt,[ut,(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,X.D$)(((...e)=>a.changePassword&&a.changePassword(...e)),["prevent"]))},[(0,r.Lk)("div",ct,[dt,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.oldPassword=e),id:"oldPassword",required:""},null,512),[[X.Jo,n.form.oldPassword]])]),(0,r.Lk)("div",pt,[mt,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.newPassword=e),id:"newPassword",required:""},null,512),[[X.Jo,n.form.newPassword]])]),(0,r.Lk)("div",ft,[ht,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.confirmPassword=e),id:"confirmPassword",required:""},null,512),[[X.Jo,n.form.confirmPassword]])]),gt],32),n.errorMessage?((0,r.uX)(),(0,r.CE)("div",kt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.errorMessage,((e,t)=>((0,r.uX)(),(0,r.CE)("p",{key:t},(0,i.v_)(e),1)))),128))])):(0,r.Q3)("",!0),n.successMessage?((0,r.uX)(),(0,r.CE)("p",vt,(0,i.v_)(n.successMessage),1)):(0,r.Q3)("",!0)])}var Lt={name:"ChangePasswordComponent",data(){return{form:{oldPassword:"",newPassword:"",confirmPassword:""},errorMessage:[],successMessage:""}},methods:{changePassword(){this.form.newPassword===this.form.confirmPassword?J.A.put("change-password/",{old_password:this.form.oldPassword,new_password:this.form.newPassword}).then((()=>{this.successMessage="ÐŸÐ°Ñ€Ð¾Ð»ÑŒ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ Ð·Ð¼Ñ–Ð½ÐµÐ½Ð¾.",this.errorMessage=[],this.form.oldPassword="",this.form.newPassword="",this.form.confirmPassword=""})).catch((e=>{if(e.response&&e.response.data){const t=e.response.data;this.errorMessage=[],t.old_password&&this.errorMessage.push(`Ð¡Ñ‚Ð°Ñ€Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ: ${t.old_password.join(" ")}`),t.new_password&&this.errorMessage.push(`ÐÐ¾Ð²Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ: ${t.new_password.join(" ")}`),t.old_password||t.new_password||this.errorMessage.push("ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð¼Ñ–Ð½Ñ– Ð¿Ð°Ñ€Ð¾Ð»Ñ. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ Ð²Ð²ÐµÐ´ÐµÐ½Ñ– Ð´Ð°Ð½Ñ–.")}else this.errorMessage=["ÐÐµÐ²Ñ–Ð´Ð¾Ð¼Ð° Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°. Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‰Ðµ Ñ€Ð°Ð· Ð¿Ñ–Ð·Ð½Ñ–ÑˆÐµ."];this.successMessage=""})):this.errorMessage=["ÐÐ¾Ð²Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ñ‚Ð° Ð¿Ñ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¶ÐµÐ½Ð½Ñ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð½Ðµ Ð·Ð±Ñ–Ð³Ð°ÑŽÑ‚ÑŒÑÑ."]}}};const Ct=(0,g.A)(Lt,[["render",_t],["__scopeId","data-v-3116beb8"]]);var bt=Ct,Et={name:"ProfilePage",components:{UserProfileComponent:at,ChangePasswordComponent:bt}};const yt=(0,g.A)(Et,[["render",_e],["__scopeId","data-v-c9ae6950"]]);var Ut=yt;const St={class:"consultation-details-page"};function wt(e,t,s,o,n,a){const i=(0,r.g2)("ConsultationDetailsComponent"),l=(0,r.g2)("ConsultationActionsComponent");return(0,r.uX)(),(0,r.CE)("div",St,[(0,r.bF)(i,{consultationId:e.$route.params.id},null,8,["consultationId"]),(0,r.bF)(l,{consultationId:e.$route.params.id,isDoctor:e.isDoctor,isSuperuser:e.isSuperuser},null,8,["consultationId","isDoctor","isSuperuser"])])}const At=e=>((0,r.Qi)("data-v-020a318a"),e=e(),(0,r.jt)(),e),It={key:0,class:"consultation-details"},Pt=At((()=>(0,r.Lk)("h2",null,"Ð”ÐµÑ‚Ð°Ð»Ñ– ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—",-1))),Xt={class:"details"},Dt=At((()=>(0,r.Lk)("strong",null,"Ð”Ð¾ÐºÑ‚Ð¾Ñ€:",-1))),Mt=At((()=>(0,r.Lk)("strong",null,"ÐŸÐ°Ñ†Ñ–Ñ”Ð½Ñ‚:",-1))),$t=At((()=>(0,r.Lk)("strong",null,"Ð”Ð°Ñ‚Ð°:",-1))),Wt=At((()=>(0,r.Lk)("strong",null,"Ð§Ð°Ñ:",-1))),Qt=At((()=>(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,"ÐŸÑ€Ð¸Ð¼Ñ–Ñ‚ÐºÐ¸:")],-1))),Ft={key:1};function jt(e,t,s,o,n,a){return n.consultation?((0,r.uX)(),(0,r.CE)("div",It,[Pt,(0,r.Lk)("div",Xt,[(0,r.Lk)("p",null,[Dt,(0,r.eW)(" "+(0,i.v_)(n.consultation.doctor_name),1)]),(0,r.Lk)("p",null,[Mt,(0,r.eW)(" "+(0,i.v_)(n.consultation.patient_name),1)]),(0,r.Lk)("p",null,[$t,(0,r.eW)(" "+(0,i.v_)(n.consultation.date),1)]),(0,r.Lk)("p",null,[Wt,(0,r.eW)(" "+(0,i.v_)(n.consultation.time),1)]),Qt,(0,r.Lk)("p",null,(0,i.v_)(n.consultation.notes),1)])])):((0,r.uX)(),(0,r.CE)("p",Ft,"Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—..."))}var Tt={name:"ConsultationDetailsComponent",props:{consultationId:{type:[Number,String],required:!0}},data(){return{consultation:null}},methods:{fetchConsultationDetails(){J.A.get(`consultations/${this.consultationId}/`).then((e=>{this.consultation=e.data})).catch((e=>{console.error("Error fetching consultation details:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))}},created(){this.fetchConsultationDetails()}};const qt=(0,g.A)(Tt,[["render",jt],["__scopeId","data-v-020a318a"]]);var Vt=qt;const Jt=e=>((0,r.Qi)("data-v-3e766e23"),e=e(),(0,r.jt)(),e),Ot={key:0,class:"consultation-actions"},Nt=Jt((()=>(0,r.Lk)("h3",null,"Ð”Ñ–Ñ— Ð· ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ”ÑŽ",-1)));function xt(e,t,s,o,n,a){return a.isAuthorized?((0,r.uX)(),(0,r.CE)("div",Ot,[Nt,(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.editConsultation&&a.editConsultation(...e))},"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ"),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.deleteConsultation&&a.deleteConsultation(...e)),class:"danger"},"Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ")])):(0,r.Q3)("",!0)}var Rt={name:"ConsultationActionsComponent",props:{consultationId:{type:[Number,String],required:!0},isDoctor:{type:Boolean,default:!1},isSuperuser:{type:Boolean,default:!1}},computed:{isAuthorized(){return this.isDoctor||this.isSuperuser},numericConsultationId(){return Number(this.consultationId)}},methods:{editConsultation(){alert("Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ð½Ð½Ñ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ— Ñ‰Ðµ Ð½Ðµ Ð½Ð°Ð»Ð°ÑˆÑ‚Ð¾Ð²Ð°Ð½Ðµ.")},deleteConsultation(){confirm("Ð’Ð¸ Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ñ–, Ñ‰Ð¾ Ñ…Ð¾Ñ‡ÐµÑ‚Ðµ Ð²Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ Ñ†ÑŽ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ?")&&J.A.delete(`consultations/${this.numericConsultationId}/`).then((()=>{this.$router.push("/dashboard")})).catch((e=>{console.error("Error deleting consultation:",e),alert("Ð¡Ñ‚Ð°Ð»Ð°ÑÑ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ– ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—.")}))}}};const Bt=(0,g.A)(Rt,[["render",xt],["__scopeId","data-v-3e766e23"]]);var Kt=Bt;const zt={data(){return{isDoctor:!1,isSuperuser:!1,isUser:!1}},created(){this.checkUserRoles()},methods:{checkUserRoles(){const e={is_doctor:"true"===localStorage.getItem("isDoctor"),is_superuser:"true"===localStorage.getItem("isSuperuser"),is_user:"true"===localStorage.getItem("isUser")};this.isDoctor=e.is_doctor,this.isSuperuser=e.is_superuser,this.isUser=e.is_user}}};var Ht={name:"ConsultationDetailsPage",components:{ConsultationDetailsComponent:Vt,ConsultationActionsComponent:Kt},mixins:[zt]};const Gt=(0,g.A)(Ht,[["render",wt],["__scopeId","data-v-b51e9ebe"]]);var Zt=Gt;const Yt=e=>((0,r.Qi)("data-v-827cf914"),e=e(),(0,r.jt)(),e),es={class:"dashboard-page"},ts=Yt((()=>(0,r.Lk)("h1",null,"ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ",-1))),ss={class:"grid-container"},os={class:"grid-item"},rs={class:"grid-item"},ns={key:0,class:"grid-item"},as={key:1,class:"grid-item"},is={key:2,class:"grid-item"};function ls(e,t,s,o,n,a){const i=(0,r.g2)("UserConsultationsComponent"),l=(0,r.g2)("MessagesComponent"),u=(0,r.g2)("CreateConsultationComponent"),c=(0,r.g2)("UserManagementComponent"),d=(0,r.g2)("DoctorList");return(0,r.uX)(),(0,r.CE)("div",es,[ts,(0,r.Lk)("div",ss,[(0,r.Lk)("div",os,[(0,r.bF)(i)]),(0,r.Lk)("div",rs,[(0,r.bF)(l)]),n.isDoctor?((0,r.uX)(),(0,r.CE)("div",ns,[(0,r.bF)(u)])):(0,r.Q3)("",!0),n.isSuperuser||n.isStaff?((0,r.uX)(),(0,r.CE)("div",as,[(0,r.bF)(c)])):(0,r.Q3)("",!0),n.isDoctor||n.isUser||n.isSuperuser?((0,r.uX)(),(0,r.CE)("div",is,[(0,r.bF)(d)])):(0,r.Q3)("",!0)])])}const us=e=>((0,r.Qi)("data-v-7bb92865"),e=e(),(0,r.jt)(),e),cs={class:"user-consultations"},ds={key:0},ps=us((()=>(0,r.Lk)("h3",null,"ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—, Ð´Ðµ Ð²Ð¸ Ð»Ñ–ÐºÐ°Ñ€:",-1))),ms={key:0},fs={key:1},hs=us((()=>(0,r.Lk)("h3",null,"Ð£ÑÑ– Ð²Ð°ÑˆÑ– ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—:",-1))),gs={key:1},ks={key:2},vs={key:3};function _s(e,t,s,o,n,a){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",cs,[(0,r.Lk)("h2",null,"ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ— Ð´Ð»Ñ "+(0,i.v_)(a.isDoctor?"Ð”Ð¾ÐºÑ‚Ð¾Ñ€Ð°":"ÐŸÐ°Ñ†Ñ–Ñ”Ð½Ñ‚Ð°"),1),a.isDoctor?((0,r.uX)(),(0,r.CE)("div",ds,[ps,n.isLoaded&&0===a.doctorConsultations.length?((0,r.uX)(),(0,r.CE)("p",ms,"Ð£ Ð²Ð°Ñ Ð½ÐµÐ¼Ð°Ñ” Ð·Ð°Ð¿Ð»Ð°Ð½Ð¾Ð²Ð°Ð½Ð¸Ñ… ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ð¹ ÑÐº Ð»Ñ–ÐºÐ°Ñ€.")):n.isLoaded&&a.doctorConsultations.length?((0,r.uX)(),(0,r.CE)("ul",fs,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.doctorConsultations,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id},[(0,r.bF)(l,{to:{name:"consultationDetails",params:{id:e.id}}},{default:(0,r.k6)((()=>[(0,r.eW)(" ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ Ð· "+(0,i.v_)(e.patient_name)+" Ð½Ð° "+(0,i.v_)(e.date)+" Ð¾ "+(0,i.v_)(e.time),1)])),_:2},1032,["to"])])))),128))])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),hs,n.isLoaded&&0===a.filteredConsultations.length?((0,r.uX)(),(0,r.CE)("p",gs,"Ð£ Ð²Ð°Ñ Ð½ÐµÐ¼Ð°Ñ” Ð·Ð°Ð¿Ð»Ð°Ð½Ð¾Ð²Ð°Ð½Ð¸Ñ… ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ð¹.")):n.isLoaded&&a.filteredConsultations.length?((0,r.uX)(),(0,r.CE)("ul",ks,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.filteredConsultations,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id},[(0,r.bF)(l,{to:{name:"consultationDetails",params:{id:e.id}}},{default:(0,r.k6)((()=>[(0,r.eW)(" ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ Ð· "+(0,i.v_)(a.isDoctor?e.patient_name:e.doctor_name)+" Ð½Ð° "+(0,i.v_)(e.date)+" Ð¾ "+(0,i.v_)(e.time),1)])),_:2},1032,["to"])])))),128))])):((0,r.uX)(),(0,r.CE)("p",vs,"Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ Ð´Ð°Ð½Ð¸Ñ…..."))])}var Ls={name:"UserConsultationsComponent",data(){return{consultations:[],users:[],currentUser:null,isLoaded:!1}},computed:{isDoctor(){return this.currentUser&&this.currentUser.is_doctor},filteredConsultations(){return this.currentUser?this.consultations.filter((e=>e.doctor===this.currentUser.id||e.patient===this.currentUser.id)).map((e=>({...e,id:e.id.toString()}))):[]},doctorConsultations(){return this.currentUser?this.consultations.filter((e=>e.doctor===this.currentUser.id)).map((e=>({...e,id:e.id.toString()}))):[]}},methods:{fetchConsultations(){J.A.get("/consultations/").then((e=>{this.consultations=e.data,this.fetchUsers()})).catch((e=>{console.error("Error fetching consultations:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))},fetchUsers(){J.A.get("/users/").then((e=>{this.users=e.data,this.currentUser=this.users.find((e=>e.email===localStorage.getItem("userEmail"))),this.mapUserDetailsToConsultations()})).catch((e=>{console.error("Error fetching users:",e)})).finally((()=>{this.isLoaded=!0}))},mapUserDetailsToConsultations(){this.consultations=this.consultations.map((e=>{const t=this.users.find((t=>t.id===e.doctor)),s=this.users.find((t=>t.id===e.patient));return{...e,doctor_name:t?`${t.first_name} ${t.last_name}`:"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾",patient_name:s?`${s.first_name} ${s.last_name}`:"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"}}))}},created(){this.fetchConsultations()}};const Cs=(0,g.A)(Ls,[["render",_s],["__scopeId","data-v-7bb92865"]]);var bs=Cs;const Es=e=>((0,r.Qi)("data-v-600e93c8"),e=e(),(0,r.jt)(),e),ys={class:"messages"},Us=Es((()=>(0,r.Lk)("h2",null,"ÐœÐ¾Ñ— ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ",-1))),Ss={key:0},ws={key:1},As={class:"timestamp"},Is=["onClick"];function Ps(e,t,s,o,n,a){return(0,r.uX)(),(0,r.CE)("div",ys,[Us,n.messages.length?((0,r.uX)(),(0,r.CE)("ul",ws,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.messages,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:(0,i.C4)({unread:!e.is_read})},[(0,r.Lk)("strong",null,"Ð’Ñ–Ð´ "+(0,i.v_)(e.sender_name),1),(0,r.eW)(" Ð´Ð¾ "+(0,i.v_)(e.recipient_name)+": "+(0,i.v_)(e.content)+" ",1),(0,r.Lk)("span",As,(0,i.v_)(a.formatDate(e.created_at)),1),e.sender!==n.currentUserId?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>a.replyToMessage(e.sender)},"Ð’Ñ–Ð´Ð¿Ð¾Ð²Ñ–ÑÑ‚Ð¸",8,Is)):(0,r.Q3)("",!0)],2)))),128))])):((0,r.uX)(),(0,r.CE)("p",Ss,"Ð£ Ð²Ð°Ñ Ð½ÐµÐ¼Ð°Ñ” Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½ÑŒ."))])}var Xs={name:"MessagesComponent",data(){return{messages:[],currentUserId:null}},methods:{fetchMessages(){J.A.get("/messages/").then((e=>{const t=e.data,s=t.map((e=>Promise.all([J.A.get(`/users/${e.sender}/`),J.A.get(`/users/${e.recipient}/`)]).then((([t,s])=>(e.sender_name=`${t.data.first_name} ${t.data.last_name}`,e.recipient_name=`${s.data.first_name} ${s.data.last_name}`,e)))));return Promise.all(s)})).then((e=>{this.messages=e,console.log(this.messages)})).catch((e=>{console.error("Error fetching messages:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))},fetchCurrentUser(){J.A.get("/profile/").then((e=>{this.currentUserId=e.data.id})).catch((e=>{console.error("Error fetching current user:",e)}))},formatDate(e){const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleDateString(void 0,t)},replyToMessage(e){this.$router.push({name:"SendMessage",params:{recipientId:e}})}},created(){this.fetchMessages(),this.fetchCurrentUser()}};const Ds=(0,g.A)(Xs,[["render",Ps],["__scopeId","data-v-600e93c8"]]);var Ms=Ds;const $s=e=>((0,r.Qi)("data-v-373b9ff8"),e=e(),(0,r.jt)(),e),Ws={class:"create-consultation"},Qs=$s((()=>(0,r.Lk)("h2",null,"Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ð½Ð¾Ð²Ñƒ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ",-1))),Fs={class:"form-group"},js=$s((()=>(0,r.Lk)("label",{for:"doctor"},"Ð›Ñ–ÐºÐ°Ñ€",-1))),Ts={id:"doctor"},qs=$s((()=>(0,r.Lk)("label",{for:"patient"},"ÐŸÐ°Ñ†Ñ–Ñ”Ð½Ñ‚",-1))),Vs=["value"],Js={class:"form-group"},Os=$s((()=>(0,r.Lk)("label",{for:"date"},"Ð”Ð°Ñ‚Ð°",-1))),Ns={class:"form-group"},xs=$s((()=>(0,r.Lk)("label",{for:"time"},"Ð§Ð°Ñ",-1))),Rs={class:"form-group"},Bs=$s((()=>(0,r.Lk)("label",{for:"notes"},"ÐŸÑ€Ð¸Ð¼Ñ–Ñ‚ÐºÐ¸",-1))),Ks=$s((()=>(0,r.Lk)("button",{type:"submit"},"Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ",-1))),zs={key:0,class:"success"};function Hs(e,t,s,o,n,a){return(0,r.uX)(),(0,r.CE)("div",Ws,[Qs,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,X.D$)(((...e)=>a.submitConsultation&&a.submitConsultation(...e)),["prevent"]))},[(0,r.Lk)("div",Fs,[js,(0,r.Lk)("p",Ts,(0,i.v_)(n.doctorName),1),qs,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.patient=e),id:"patient",required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.patients,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.first_name)+" "+(0,i.v_)(e.last_name),9,Vs)))),128))],512),[[X.u1,n.form.patient]])]),(0,r.Lk)("div",Js,[Os,(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.date=e),id:"date",required:""},null,512),[[X.Jo,n.form.date]])]),(0,r.Lk)("div",Ns,[xs,(0,r.bo)((0,r.Lk)("input",{type:"time","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.time=e),id:"time",required:""},null,512),[[X.Jo,n.form.time]])]),(0,r.Lk)("div",Rs,[Bs,(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.form.notes=e),id:"notes",rows:"4",placeholder:"Ð’Ð²ÐµÐ´Ñ–Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼Ñ–Ñ‚ÐºÐ¸..."},null,512),[[X.Jo,n.form.notes]])]),Ks],32),n.successMessage?((0,r.uX)(),(0,r.CE)("p",zs,(0,i.v_)(n.successMessage),1)):(0,r.Q3)("",!0)])}var Gs={name:"CreateConsultationComponent",data(){return{form:{patient:"",date:"",time:"",notes:""},patients:[],doctorId:null,doctorName:"",successMessage:""}},methods:{fetchPatients(){J.A.get("users/").then((e=>{this.patients=e.data.filter((e=>!e.is_doctor&&!e.is_superuser&&!e.is_staff))})).catch((e=>{console.error("Error fetching patients:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))},submitConsultation(){if(!this.doctorId)return void console.error("Ð”Ð¾ÐºÑ‚Ð¾Ñ€ Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¸Ð¹ Ñƒ localStorage");const e={...this.form,doctor:this.doctorId};J.A.post("consultations/",e).then((()=>{this.successMessage="ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–ÑŽ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð¾ ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð¾!",this.form.patient="",this.form.date="",this.form.time="",this.form.notes="",setTimeout((()=>{this.successMessage=""}),5e3)})).catch((e=>{console.error("Error creating consultation:",e)}))}},created(){this.doctorId=localStorage.getItem("doctorId"),this.doctorName=localStorage.getItem("doctorName"),console.log("Loaded doctorId:",this.doctorId),console.log("Loaded doctorName:",this.doctorName),this.fetchPatients()}};const Zs=(0,g.A)(Gs,[["render",Hs],["__scopeId","data-v-373b9ff8"]]);var Ys=Zs;const eo=e=>((0,r.Qi)("data-v-f050bfca"),e=e(),(0,r.jt)(),e),to={key:0,class:"user-management"},so=eo((()=>(0,r.Lk)("h2",null,"Ð£Ð¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°Ð¼Ð¸",-1))),oo={key:0},ro={key:1},no=eo((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Ð†Ð¼'Ñ"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Ð Ð¾Ð»ÑŒ"),(0,r.Lk)("th",null,"Ð”Ñ–Ñ—")])],-1))),ao={key:0},io={key:1},lo={key:2},uo={key:3},co=["onClick"],po=["onClick"],mo={key:2,class:"edit-user-modal"},fo={class:"form-group"},ho=eo((()=>(0,r.Lk)("label",{for:"username"},"Ð†Ð¼'Ñ",-1))),go={class:"form-group"},ko=eo((()=>(0,r.Lk)("label",{for:"email"},"Email",-1))),vo={class:"form-group"},_o=eo((()=>(0,r.Lk)("label",{for:"role"},"Ð Ð¾Ð»ÑŒ",-1))),Lo=eo((()=>(0,r.Lk)("option",{value:"user"},"User",-1))),Co=eo((()=>(0,r.Lk)("option",{value:"doctor"},"Doctor",-1))),bo=eo((()=>(0,r.Lk)("option",{value:"staff"},"Staff",-1))),Eo=eo((()=>(0,r.Lk)("option",{value:"superuser"},"Superuser",-1))),yo=[Lo,Co,bo,Eo],Uo=eo((()=>(0,r.Lk)("button",{type:"submit"},"ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸",-1))),So={key:1},wo=eo((()=>(0,r.Lk)("p",null,"Ð£ Ð²Ð°Ñ Ð½ÐµÐ¼Ð°Ñ” Ð´Ð¾ÑÑ‚ÑƒÐ¿Ñƒ Ð´Ð¾ Ñ†ÑŒÐ¾Ð³Ð¾ Ñ€Ð¾Ð·Ð´Ñ–Ð»Ñƒ.",-1))),Ao=[wo];function Io(e,t,s,o,n,a){return n.isSuperUserOrStaff?((0,r.uX)(),(0,r.CE)("div",to,[so,n.users.length?((0,r.uX)(),(0,r.CE)("table",ro,[no,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.users,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,i.v_)(e.username),1),(0,r.Lk)("td",null,(0,i.v_)(e.email),1),(0,r.Lk)("td",null,[e.is_superuser?((0,r.uX)(),(0,r.CE)("span",ao,"Superuser")):e.is_staff?((0,r.uX)(),(0,r.CE)("span",io,"Staff")):e.is_doctor?((0,r.uX)(),(0,r.CE)("span",lo,"Doctor")):((0,r.uX)(),(0,r.CE)("span",uo,"User"))]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:t=>a.editUser(e)},"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸",8,co),(0,r.Lk)("button",{onClick:t=>a.deleteUser(e.id)},"Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸",8,po)])])))),128))])])):((0,r.uX)(),(0,r.CE)("p",oo,"ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ñ– Ð²Ñ–Ð´ÑÑƒÑ‚Ð½Ñ–.")),n.selectedUser?((0,r.uX)(),(0,r.CE)("div",mo,[(0,r.Lk)("h3",null,"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°: "+(0,i.v_)(n.selectedUser.username),1),(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,X.D$)(((...e)=>a.updateUser&&a.updateUser(...e)),["prevent"]))},[(0,r.Lk)("div",fo,[ho,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedUser.username=e),id:"username",required:""},null,512),[[X.Jo,n.selectedUser.username]])]),(0,r.Lk)("div",go,[ko,(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedUser.email=e),id:"email",required:""},null,512),[[X.Jo,n.selectedUser.email]])]),(0,r.Lk)("div",vo,[_o,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedUser.role=e),id:"role"},yo,512),[[X.u1,n.selectedUser.role]])]),Uo,(0,r.Lk)("button",{onClick:t[3]||(t[3]=e=>n.selectedUser=null)},"Ð¡ÐºÐ°ÑÑƒÐ²Ð°Ñ‚Ð¸")],32)])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",So,Ao))}var Po={name:"UserManagementComponent",data(){return{users:[],selectedUser:null,isSuperUserOrStaff:!1}},methods:{fetchUsers(){J.A.get("users/").then((e=>{this.users=e.data,this.checkAccess()})).catch((e=>{console.error("Error fetching users:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))},checkAccess(){const e=localStorage.getItem("userEmail"),t=this.users.find((t=>t.email===e));t&&(this.isSuperUserOrStaff=t.is_superuser||t.is_staff)},editUser(e){this.selectedUser={...e,role:this.getRole(e)}},getRole(e){return e.is_superuser?"superuser":e.is_staff?"staff":e.is_doctor?"doctor":(e.is_user,"user")},updateUser(){const e={...this.selectedUser,is_superuser:"superuser"===this.selectedUser.role,is_staff:"staff"===this.selectedUser.role,is_doctor:"doctor"===this.selectedUser.role,is_user:"user"===this.selectedUser.role};J.A.put(`users/${this.selectedUser.id}/`,e).then((()=>{this.selectedUser=null,this.fetchUsers()})).catch((e=>{console.error("Error updating user:",e)}))},deleteUser(e){J.A.delete(`users/${e}/`).then((()=>{this.fetchUsers()})).catch((e=>{console.error("Error deleting user:",e)}))}},created(){this.fetchUsers()}};const Xo=(0,g.A)(Po,[["render",Io],["__scopeId","data-v-f050bfca"]]);var Do=Xo,Mo=s(7024),$o={name:"DashboardPage",components:{UserConsultationsComponent:bs,MessagesComponent:Ms,CreateConsultationComponent:Ys,UserManagementComponent:Do,DoctorList:Mo["default"]},data(){return{isDoctor:!1,isSuperuser:!1,isStaff:!1,isUser:!1}},created(){this.checkUserRoles()},methods:{checkUserRoles(){const e={is_doctor:"true"===localStorage.getItem("isDoctor"),is_superuser:"true"===localStorage.getItem("isSuperuser"),is_staff:"true"===localStorage.getItem("isStaff"),is_user:"true"===localStorage.getItem("isUser")};this.isDoctor=e.is_doctor,this.isSuperuser=e.is_superuser,this.isStaff=e.is_staff,this.isUser=e.is_user,console.log("doctor, superuser, staff, user",this.isDoctor,this.isSuperuser,this.isStaff,this.isUser)}}};const Wo=(0,g.A)($o,[["render",ls],["__scopeId","data-v-827cf914"]]);var Qo=Wo;const Fo=e=>((0,r.Qi)("data-v-57d31c07"),e=e(),(0,r.jt)(),e),jo={class:"consultations-list"},To=Fo((()=>(0,r.Lk)("h2",null,"ÐœÐ¾Ñ— ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ—",-1))),qo={key:0},Vo={key:1};function Jo(e,t,s,o,n,a){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",jo,[To,n.consultations.length?((0,r.uX)(),(0,r.CE)("ul",Vo,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.filteredConsultations,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id},[(0,r.bF)(l,{to:`/consultations/${e.id}`},{default:(0,r.k6)((()=>[(0,r.eW)(" ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ Ð· "+(0,i.v_)(e.doctor_name)+" Ð´Ð»Ñ "+(0,i.v_)(e.patient_name)+" Ð½Ð° "+(0,i.v_)(e.date)+" Ð¾ "+(0,i.v_)(e.time),1)])),_:2},1032,["to"])])))),128))])):((0,r.uX)(),(0,r.CE)("p",qo,"Ð£ Ð²Ð°Ñ Ð½ÐµÐ¼Ð°Ñ” Ð·Ð°Ð¿Ð»Ð°Ð½Ð¾Ð²Ð°Ð½Ð¸Ñ… ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ð¹."))])}var Oo={name:"ConsultationsListComponent",data(){return{consultations:[],users:[],currentUser:null}},computed:{filteredConsultations(){return this.currentUser?this.consultations.filter((e=>e.doctor===this.currentUser.id||e.patient===this.currentUser.id)):[]}},methods:{fetchConsultations(){J.A.get("consultations/").then((e=>{this.consultations=e.data,this.fetchUsers()})).catch((e=>{console.error("Error fetching consultations:",e),e.response&&401===e.response.status&&this.$router.push("/login")}))},fetchUsers(){J.A.get("users/").then((e=>{this.users=e.data,this.currentUser=this.users.find((e=>e.email===localStorage.getItem("userEmail"))),this.mapUserDetailsToConsultations()})).catch((e=>{console.error("Error fetching users:",e)}))},mapUserDetailsToConsultations(){this.consultations=this.consultations.map((e=>{const t=this.users.find((t=>t.id===e.doctor)),s=this.users.find((t=>t.id===e.patient));return{...e,doctor_name:t?`${t.first_name} ${t.last_name}`:"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾",patient_name:s?`${s.first_name} ${s.last_name}`:"ÐÐµ Ð²ÐºÐ°Ð·Ð°Ð½Ð¾"}}))}},created(){this.fetchConsultations()}};const No=(0,g.A)(Oo,[["render",Jo],["__scopeId","data-v-57d31c07"]]);var xo=No;const Ro=e=>((0,r.Qi)("data-v-6230d547"),e=e(),(0,r.jt)(),e),Bo=Ro((()=>(0,r.Lk)("h1",null,"404 - Ð¡Ñ‚Ð¾Ñ€Ñ–Ð½ÐºÑƒ Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾",-1))),Ko=Ro((()=>(0,r.Lk)("p",null,"ÐÐ° Ð¶Ð°Ð»ÑŒ, ÑÑ‚Ð¾Ñ€Ñ–Ð½ÐºÐ°, ÑÐºÑƒ Ð²Ð¸ ÑˆÑƒÐºÐ°Ñ”Ñ‚Ðµ, Ð½Ðµ Ñ–ÑÐ½ÑƒÑ”.",-1)));function zo(e,t,s,o,n,a){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[Bo,Ko,(0,r.bF)(i,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("ÐŸÐ¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ÑÑ Ð½Ð° Ð³Ð¾Ð»Ð¾Ð²Ð½Ñƒ")])),_:1})])}var Ho={name:"NotFoundPage"};const Go=(0,g.A)(Ho,[["render",zo],["__scopeId","data-v-6230d547"]]);var Zo=Go;const Yo=[{path:"/",name:"home",component:C},{path:"/login",name:"login",component:pe},{path:"/profile",name:"profile",component:Ut,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:Qo,meta:{requiresAuth:!0}},{path:"/consultations",name:"consultationsList",component:xo,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:ue},{path:"/consultations/:id",name:"consultationDetails",component:Zt,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:Zo},{path:"/doctors",name:"DoctorList",component:()=>Promise.resolve().then(s.bind(s,7024))},{path:"/send-message/:recipientId",name:"SendMessage",component:()=>s.e(336).then(s.bind(s,5336)),props:!0}],er=(0,o.aE)({history:(0,o.LA)("/medical-project/"),routes:Yo});er.beforeEach(((e,t,s)=>{const o=e.matched.some((e=>e.meta.requiresAuth)),r=!!localStorage.getItem("accessToken");o&&!r?s({path:"/login",query:{redirect:e.fullPath}}):s()}));var tr=er},9423:function(e,t,s){s(4114);var o=s(4373),r=s(5926);const n="https://xammax.pythonanywhere.com/api/",a=o.A.create({baseURL:n,headers:{"Content-Type":"application/json"}});a.interceptors.request.use((e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers["Authorization"]=`Bearer ${t}`),e})),a.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;const e=localStorage.getItem("refreshToken");if(e)try{const{data:s}=await o.A.post(`${n}token/refresh/`,{refresh:e});return localStorage.setItem("accessToken",s.access),t.headers["Authorization"]=`Bearer ${s.access}`,a(t)}catch(s){console.error("Refresh token failed",s),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),await r.A.push("/login")}else localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),await r.A.push("/login")}return Promise.reject(e)})),t.A=a},7024:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var o=s(6768),r=s(4232);const n={class:"user-list"},a={key:0},i={class:"user-info"},l=["src"],u=["onClick"],c={key:1};function d(e,t,s,d,p,m){return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("h2",null,(0,r.v_)(m.isDoctorOrSuperuser?"Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ñ–Ð²":"Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð›Ñ–ÐºÐ°Ñ€Ñ–Ð²"),1),m.filteredUsers.length?((0,o.uX)(),(0,o.CE)("ul",a,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.filteredUsers,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("div",i,[e.photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.photo,alt:"Ð¤Ð¾Ñ‚Ð¾ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°",class:"user-photo"},null,8,l)):(0,o.Q3)("",!0),(0,o.Lk)("p",null,[(0,o.Lk)("strong",null,(0,r.v_)(e.first_name)+" "+(0,r.v_)(e.last_name),1)]),(0,o.Lk)("p",null,(0,r.v_)(e.email),1),(0,o.Lk)("button",{onClick:t=>m.sendMessage(e.id)},"ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚Ð¸ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ",8,u)])])))),128))])):((0,o.uX)(),(0,o.CE)("p",c,"Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ ÑÐ¿Ð¸ÑÐºÑƒ..."))])}s(4114);var p=s(9423),m={name:"UserList",data(){return{users:[],currentUser:null,isLoaded:!1}},computed:{isDoctorOrSuperuser(){return this.currentUser&&(this.currentUser.is_doctor||this.currentUser.is_superuser)},filteredUsers(){return this.isDoctorOrSuperuser?this.users:this.users.filter((e=>e.is_doctor))}},methods:{fetchUsers(){p.A.get("/users/").then((e=>{this.users=e.data,this.currentUser=this.users.find((e=>e.email===localStorage.getItem("userEmail")))})).catch((e=>{console.error("Error fetching users:",e)})).finally((()=>{this.isLoaded=!0}))},sendMessage(e){this.$router.push({name:"SendMessage",params:{recipientId:e}})}},created(){this.fetchUsers()}},f=s(1241);const h=(0,f.A)(m,[["render",d],["__scopeId","data-v-6dbf6613"]]);var g=h}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],n=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||a>=n)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<a&&(a=n));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+".258625ff.js"}}(),function(){s.miniCssF=function(e){return"css/"+e+".1b934e6d.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="medical-project:";s.l=function(o,r,n,a){if(e[o])e[o].push(r);else{var i,l;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+n){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",t+n),i.src=o),e[o]=[r];var p=function(t,s){i.onerror=i.onload=null,clearTimeout(m);var r=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(s)})),t)return t(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/medical-project/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,r,n){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",s.nc&&(a.nonce=s.nc);var i=function(s){if(a.onerror=a.onload=null,"load"===s.type)r();else{var o=s&&s.type,i=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+i+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=i,a.parentNode&&a.parentNode.removeChild(a),n(l)}};return a.onerror=a.onload=i,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var r=s[o],n=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(n===e||n===t))return r}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){r=a[o],n=r.getAttribute("data-href");if(n===e||n===t)return r}},o=function(o){return new Promise((function(r,n){var a=s.miniCssF(o),i=s.p+a;if(t(a,i))return r();e(o,i,null,r,n)}))},r={524:0};s.f.miniCss=function(e,t){var s={336:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={524:0};s.f.j=function(t,o){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var n=new Promise((function(s,o){r=e[t]=[s,o]}));o.push(r[2]=n);var a=s.p+s.u(t),i=new Error,l=function(o){if(s.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var n=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,r[1](i)}};s.l(a,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,a=o[0],i=o[1],l=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var c=l(s)}for(t&&t(o);u<a.length;u++)n=a[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},o=self["webpackChunkmedical_project"]=self["webpackChunkmedical_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(2453)}));o=s.O(o)})();
//# sourceMappingURL=app.94058c6c.js.map